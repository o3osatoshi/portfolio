## API Report File for "@o3osatoshi/logging"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Axiom } from '@axiomhq/js';
import { AxiomWithoutBatching } from '@axiomhq/js';
import { Env } from '@o3osatoshi/toolkit';

// @public
export type Attributes = Record<string, JsonValue | undefined>;

// @public
export type AxiomClient = Axiom | AxiomWithoutBatching;

// @public
export interface AxiomClientConfig extends AxiomConfig {
    mode?: AxiomClientMode;
    onError?: (error: Error) => void;
}

// @public
export type AxiomClientMode = "batch" | "immediate";

// @public
export interface AxiomConfig {
    orgId?: string;
    token: string;
    url?: string;
}

// @public
export interface BaseLoggingOptions {
    axiom: AxiomConfig;
    datasets: LoggingDatasets;
    env: Env;
    minLevel?: LogLevel;
    sampleRate?: number;
    service: string;
}

// @public
export function createAxiomClient(config: AxiomClientConfig): AxiomClient;

// @public
export function createAxiomTransport(config: AxiomClientConfig): Transport;

// @public
export function createLogger(options: CreateLoggerOptions): Logger;

// @public
export interface CreateLoggerOptions {
    base?: Attributes;
    datasets: LoggingDatasets;
    minLevel?: LogLevel;
    sampleRate?: number;
    transport: Transport;
}

// @public
export function createTraceContext(input?: {
    spanId?: string | undefined;
    traceId?: string | undefined;
    traceparent?: string | undefined;
}): TraceContext;

// @public
export function formatTraceparent(context: TraceContext, flags?: string): string;

// @public
export type JsonPrimitive = boolean | null | number | string;

// @public
export type JsonValue = {
    [key: string]: JsonValue;
} | JsonPrimitive | JsonValue[];

// @public
export interface LogEvent extends Attributes {
    level?: LogLevel;
    message?: string;
    timestamp: string;
}

// @public
export interface Logger {
    child(attributes: Attributes): Logger;
    debug(message: string, attributes?: Attributes): void;
    error(message: string, attributes?: Attributes, error?: unknown): void;
    event(name: string, attributes?: Attributes): void;
    flush(): Promise<void>;
    info(message: string, attributes?: Attributes): void;
    metric(name: string, value: number, attributes?: Attributes, options?: MetricOptions): void;
    warn(message: string, attributes?: Attributes): void;
}

// @public
export interface LoggingDatasets {
    logs: string;
    metrics: string;
}

// @public
export type LogLevel = "debug" | "error" | "info" | "warn";

// @public
export interface MetricOptions {
    kind?: "counter" | "gauge" | "histogram";
    unit?: string;
}

// @public
export interface NodeLoggingOptions extends RuntimeLoggingOptions {
    flushOnExit?: boolean;
}

// @public
export function parseTraceparent(value?: string): {
    spanId: string;
    traceFlags: string;
    traceId: string;
} | undefined;

// @public
export interface RequestContext {
    clientIp?: string | undefined;
    httpMethod?: string | undefined;
    httpRoute?: string | undefined;
    requestId?: string | undefined;
    spanId?: string | undefined;
    traceId?: string | undefined;
    traceparent?: string | undefined;
    userAgent?: string | undefined;
    userId?: null | string | undefined;
}

// @public
export interface RequestLogger {
    flush: () => Promise<void>;
    logger: Logger;
    parentSpanId?: string;
    requestId?: string;
    setUserId: (userId?: null | string) => void;
    spanId: string;
    traceId: string;
}

// @public
export interface RuntimeLoggingOptions extends BaseLoggingOptions {
    flushOnEnd?: boolean;
    onError?: (error: Error) => void;
}

// @public
export type TraceContext = {
    parentSpanId?: string;
    spanId: string;
    traceFlags?: string;
    traceId: string;
};

// @public
export interface Transport {
    emit(dataset: string, events: LogEvent | LogEvent[]): Promise<void> | void;
    flush?: () => Promise<void>;
    shutdown?: () => Promise<void>;
}

// (No @packageDocumentation comment for this package)

```
